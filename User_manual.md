#  Описание проекта

##  Начало работы

Для запуска проекта необходимо
Установить Python, если еще не установлен
https://www.python.org/downloads/
В данной работе использовалась версия python 3.10

Установить IDLE, ниже будут представлены скриншоты из IDLE PyCharm
Скачать можно здесь 
https://www.jetbrains.com/pycharm/download/

После этого, можно будет открыть PyCharm и нажать открыть проект из папки. Выбрать папку hh_bot.
Более подробно рассказано в этом видео
https://www.youtube.com/watch?v=XOA5HW1_P_M

Структура проекта

 

Кратко о каждом файле
.env – файл с переменными окружения, содержит секретный ключ – токен к боту
config.py – файл с константами проекта, который являются не секретными и которые при желании можно менять или дополнять
headhunter.py – файл со всеми взаимодействиями API Head Hunter https://dev.hh.ru/
В данной работе используется подход не парсинга сайта, а использования его официального API. C помощью методов, предоставленных в документации мы можем получить список городов, вакансий, компаний и много всего другого. Например, с помощью этой документации мы узнаем какой метод нужно вызвать из кода и какие параметры передать:
 https://api.hh.ru/openapi/redoc#tag/Poisk-vakansij/operation/get-vacancies
html_report.py – генерирует html отчет с именем report.html со списком вакансий и присылает пользователю. Генерируется только когда найдено больше 20 вакансий, чтобы не присылать пользователю множество уведомлений, который могут раздражать и не очень удобно смотреть.
main.py – точка входа программы, именно этой файл нужно запускать из среды PyCharm. Она в свою очередь вызывает код, написанный в файле bot.py
bot.py – все операции для общения с пользователем через телеграмм. В данной работе используется телеграмм библиотека telebot, данный выбор обусловлен тем, что именно ее использовали на одном из уроков по работе с ботом.
vacancy.py – содержит класс вакансии, там мы определяем какие поля из вакансии, полученной с помощью API Head Hunter мы будем показывать пользователю. Я выбрала показывать зарплату, требования, обязанности, компанию и ссылку и саму вакансию, чтобы пользователь сам смог по ней перейти и ознакомится с другими деталями.
Папка templates содержит шаблон отчета со списком вакансий.
requirements.txt – содержит библиотеки, которые необходимо установить перед запуском проекта. Проще всего это сделать так: перейти в файл requirements.txt, кликнуть правой кнопкой мыши рядом со списком библиотек и выбрать Install All Package.

 

После чего можно перейти в файл main.py, кликнуть правой кнопкой мыши рядом с содержимым этого файла и выбрать Run main

 

Бот запущен! Идем в телеграмм.
В поиске ищем @hh_alex_mass_bot
 
Почитать как создается имя бота, иконка и токен можно здесь:

https://sendpulse.com/ru/knowledge-base/chatbot/telegram/create-telegram-chatbot

Скрин общения с BotFather представлен в файле "Screenshots on request 25.07.23"
 


Кликаем по нашему боту, видим следующее:
<image src="/Screenshots on request 25.07.23/2023-07-25_12-01-52.png" alt="Вход в чат-бот">

 

Нажимаем кнопку START. Появится следующее сообщение
Если оно не появилось, то проверьте, запущен ли проект в PyCharm? Возможно он сообщит о какой-либо ошибке.

 

Далее ведем переписку с ботом

 

По размеру заработной платы есть нюанс – если пользователь вводит число, то ему будут предлагаться вакансии и с большей суммой) Второй нюанс – большинство компаний не указывают размер заработной платы, такие вакансии мы также рекомендуем пользователю, какую он бы сумму не указал.

 

Далее продолжаем увлекательный разговор выбирая нужные кнопки
 

На вопрос – интересует ли меня конкретная компания я ответила нет. Далее вижу:

 

Как выглядит отчет:

 


Нажимая Подробнее можно ознакомится с детальной информацией.

 
Вариант развития событий, если нажать что интересует конкретная компания 

 

найдено менее 20 вакансий – вакансии будут присылаться отдельными сообщениями.

 
Команда /help также имеется

